@{
    Layout = null;
    Enterprise model = ViewBag.Model;
    User user = ViewBag.User;
    if (model.ID > 0)
    {
        ViewBag.Title = "修改企业资料";
    }
    else
    {
        ViewBag.Title = "添加" + model.Business.GetDescription();
    }

}
<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">@(ViewBag.Title)</h3>
    </div>
    <div class="panel-body">
        <form id="form-enterprise" method="post" action="/Enterprise/save" class="form-horizontal">
            @if (model.Business == Business.销售商)
            {
                if (model.ID == 0)
                {
                    <div class="form-group">
                        <label for="Name" class="control-label col-lg-3">用户名</label>
                        <div class="col-lg-8">
                            <input type="text" class="form-control" name="username" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="Name" class="control-label col-lg-3">密码</label>
                        <div class="col-lg-8">
                            <input type="text" class="form-control" name="Password" />
                        </div>
                    </div>
                }
                else
                {
                    <div class="form-group">
                        <label for="Name" class="control-label col-lg-3">用户名</label>
                        <div class="col-lg-8">
                            <input type="text" class="form-control" name="username" disabled="disabled" value="@(user.Username)" />
                        </div>
                    </div>
                }
                <hr />
            }
            <input type="hidden" name="ID" value="@(model.ID)" />
            <input type="hidden" name="Business" value="@(model.Business)" />
            <div class="form-group">
                <label for="Name" class="control-label col-lg-3">企业名称</label>
                <div class="col-lg-8">
                    <input type="text" class="form-control" name="Name" value="@(model.Name)" />
                </div>
            </div>
            <div class="form-group">
                <label for="Name" class="control-label col-lg-3">所在省</label>
                <div class="col-lg-8">
                    <input type="text" class="form-control" name="Province" value="@(model.Province)" />
                </div>
            </div>
            <div class="form-group">
                <label for="Name" class="control-label col-lg-3">所在市</label>
                <div class="col-lg-8">
                    <input type="text" class="form-control" name="City" value="@(model.City)" />
                </div>
            </div>
            <div class="form-group">
                <label for="Address" class="control-label col-lg-3">街道地址</label>
                <div class="col-lg-8">
                    <input type="text" class="form-control" name="Address" value="@(model.Address)" />
                </div>
            </div>
            <div class="form-group">
                <label for="Contact" class="control-label col-lg-3">联系人</label>
                <div class="col-lg-8">
                    <input type="text" class="form-control" name="Contact" value="@(model.Contact)" />
                </div>
            </div>
            <div class="form-group">
                <label for="Number" class="control-label col-lg-3">电话</label>
                <div class="col-lg-8">
                    <input type="text" class="form-control" name="Number" value="@(model.Tel)" />
                </div>
            </div>
            <div class="form-group">
                <div class="col-lg-8 col-lg-offset-3">
                    <button type="submit" class="btn btn-primary"><i class="glyphicon glyphicon-ok"></i>保存</button>
                </div>
            </div>
        </form>
    </div>
</div>
<script>
    $(function () {
        $("#form-enterprise").submit(function () {
            $(this).post("/enterprise/?Business=@(model.Business)");
            return false;
        });
    });
</script>